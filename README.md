# B站高质量视频爬虫

## 项目介绍

这是一个用于爬取B站各分类排行榜中高质量视频的爬虫工具。通过计算视频的点赞率（点赞数/播放数），筛选出点赞率大于0.1的高质量视频数据。

## 功能特点

- 🎯 **高质量筛选**：只保留点赞率>0.1的优质视频
- 📊 **多分类支持**：支持25个B站分类的数据爬取
- 🛡️ **反爬虫对抗**：合理设置请求头和延时，避免被封
- 📁 **数据组织**：自动分类保存到CSV文件
- 🔄 **增量更新**：支持清空旧数据重新爬取
- ⚙️ **配置灵活**：支持参数配置和批量处理

## 支持的分类

全站、番剧、国产动画、国创相关、纪录片、动画、音乐、舞蹈、游戏、知识、科技、运动、汽车、生活、美食、动物圈、鬼畜、时尚、娱乐、影视、电影、电视剧、综艺、原创、新人

## 项目结构

```
High_quality_Bilibili/
├── bilibili_crawler.py    # 🚀 主程序文件 - 核心爬虫逻辑
├── config.py              # ⚙️ 配置文件 - 爬虫参数设置
├── run.sh                 # 🔧 启动脚本 - 一键运行工具
├── README.md              # 📖 项目说明 - 使用文档
└── data/                  # 📁 数据文件夹 - 存储爬取结果
    ├── B站TOP-全站-高质量.csv
    ├── B站TOP-音乐-高质量.csv
    ├── B站TOP-舞蹈-高质量.csv
    ├── B站TOP-游戏-高质量.csv
    ├── B站TOP-美食-高质量.csv
    └── ...
```

### 文件说明

| 文件名 | 用途 | 说明 |
|--------|------|------|
| `bilibili_crawler.py` | 主程序 | 包含完整的爬虫逻辑、数据处理和文件保存功能 |
| `config.py` | 配置管理 | 定义爬虫参数、阈值设置、请求头等配置信息 |
| `run.sh` | 启动脚本 | 自动检查环境依赖并启动爬虫的便捷脚本 |
| `README.md` | 项目文档 | 详细的项目说明、使用指南和API文档 |
| `data/` | 数据目录 | 存储所有爬取到的高质量视频CSV文件 |

## 使用方法

### 环境要求

```bash
pip install pandas requests
```

### 快速开始

#### 方式1: 使用启动脚本（推荐）
```bash
cd High_quality_Bilibili
chmod +x run.sh
./run.sh
```

#### 方式2: 直接运行Python程序
```bash
cd High_quality_Bilibili
python bilibili_crawler.py
```

### 配置说明

可在 `config.py` 中修改以下参数：

```python
LIKE_RATE_THRESHOLD = 0.1        # 点赞率阈值
TARGET_COUNT_PER_CATEGORY = 10   # 每分类爬取数量
REQUEST_DELAY_MIN = 2            # 最小请求间隔
REQUEST_DELAY_MAX = 4            # 最大请求间隔
```

### 输出数据格式

CSV文件包含以下字段：
- 视频标题
- 视频地址
- 作者
- 播放数
- 弹幕数
- 投币数
- 点赞数
- 分享数
- 收藏数
- **点赞率**（核心指标）

## 核心算法

### 点赞率计算
```python
点赞率 = 点赞数 / 播放数
```

### 高质量标准
- 点赞率 > 0.1 认为是高质量视频
- 播放数为0的视频会被跳过（避免除零错误）

## 数据示例

| 视频标题 | 作者 | 播放数 | 点赞数 | 点赞率 |
|---------|------|--------|--------|--------|
| 【AI蚊子】恋爱循环 | 阮念゜ | 930575 | 162378 | 0.1745 |
| 拖孩一定觉得自己很酷吧 | 藤圆拖孩er | 212602 | 47225 | 0.2221 |

## 注意事项

1. **请求频率**：程序内置2-4秒随机延时，避免请求过于频繁
2. **网络环境**：需要稳定的网络连接访问B站API
3. **数据时效性**：排行榜数据会实时更新，建议定期重新爬取
4. **依赖安装**：首次运行前请确保安装了pandas和requests库

## 项目特色

- ✨ **智能筛选**：基于点赞率的质量评估算法
- 🔧 **开箱即用**：提供一键启动脚本，无需复杂配置
- 📊 **数据完整**：包含视频标题、作者、播放数、点赞数等完整信息
- 🛡️ **稳定可靠**：内置反爬虫机制和错误处理
- 📁 **结构清晰**：自动化的文件组织和数据存储

## 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

1. Fork 本项目
2. 创建你的特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交你的修改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开一个Pull Request

## 许可证

本项目仅供学习和研究使用，请遵守相关网站的robots.txt和使用条款。

## 更新日志

- **v3.0** (2025-08-20): 完善项目结构，添加配置文件和启动脚本
- **v2.0** (2025-08-20): 增加点赞率筛选和高质量数据过滤
- **v1.0** (2025-08-20): 基础爬虫功能实现

---

🎉 享受高质量的B站视频数据分析！

如果这个项目对你有帮助，请给个⭐Star支持一下！
